<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/book.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=SUSE:wght@100..800&display=swap" rel="stylesheet">
    <title>Document</title>
</head>
<body>
    <div class="wrapper"></div>
        <svg>
            <text x="50%" y="50%" dy=".35em" text-anchor="middle">
                Lista de livros Nazaria Biblioteca
            </text>
        </svg>
    </div>
    <div id="search">
	<svg viewBox="0 0 420 60" xmlns="http://www.w3.org/2000/svg">
		<rect class="bar"/>
		
		<g class="magnifier">
			<circle class="glass"/>
			<line class="handle" x1="32" y1="32" x2="44" y2="44"></line>
		</g>

		<g class="sparks">
			<circle class="spark"/>
			<circle class="spark"/>
			<circle class="spark"/>
		</g>

		<g class="burst pattern-one">
			<circle class="particle circle"/>
			<path class="particle triangle"/>
			<circle class="particle circle"/>
			<path class="particle plus"/>
			<rect class="particle rect"/>
			<path class="particle triangle"/>
		</g>
		<g class="burst pattern-two">
			<path class="particle plus"/>
			<circle class="particle circle"/>
			<path class="particle triangle"/>
			<rect class="particle rect"/>
			<circle class="particle circle"/>
			<path class="particle plus"/>
		</g>
		<g class="burst pattern-three">
			<circle class="particle circle"/>
			<rect class="particle rect"/>
			<path class="particle plus"/>
			<path class="particle triangle"/>
			<rect class="particle rect"/>
			<path class="particle plus"/>
		</g>
	</svg>
	<input type=search name=q aria-label="Search for inspiration"/>
</div>

<div id="results">
    <table border="1">
        <thead>
            <tr>
                <th>ID</th>
                <th>Título</th>
                <th>ID do Autor</th>
                <th>Ano de Publicação</th>
                <th>Gênero</th>
                <th>Ações</th>
            </tr>
        </thead>
        <tbody id="booksTableBody">
            <!-- Os livros serão inseridos aqui -->
        </tbody>
    </table>
    <button popovertarget="addBooks">Adicionar livros</button>  
    <button id="refreshBooks">Atualizar Livros</button>
    <div popover id="addBooks">
        <form>
        <label for="title">Título do Livro:</label>
        <input type="text" id="title" name="title"><br><br>
        <label for="publication_year">Ano de publicação:</label>
        <input type="text" id="publication_year" name="publication_year"><br><br>
        <label for="author_id">IdAutor:</label>
        <input type="text" id="author_id" name="author_id">
        <label for="genero">Gênero:</label>
        <input type="text" id="genre" name="genre">
        </form>
        <button type="submit" id="save" onclick="addBook()">Salvar</button>
        <button type="cancel" id="cancelDelete" onclick="closeEditModal()">Cancelar</button>
    </div>

<!-- Popover para deletar livros -->
<div popover id="deleteBooksPopover" style="position: fixed; padding: 10px; height: fit-content; width: fit-content;">
    <p id="popoverDeleteMsg"></p>
    <button type="button" id="popoverDeleteBtn" onclick="deleteBook(book_id)">Deletar</button>
    <button type="button" id="cancelDelete" onclick="closeEditModal()">Cancelar</button>
</div>
    <script src="../js/books.js"></script>
</body>
</html>